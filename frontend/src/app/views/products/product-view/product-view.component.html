<div class="card">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h4 class="mb-0">Product Details</h4>
    <button class="btn btn-secondary" (click)="goBack()">Back</button>
  </div>

  <ng-container *ngIf="product as p">
    <div class="card-body">
      <!-- Thumbnail -->
      <div class="mb-4 text-center">
        <img
          [src]="p.thumbnail"
          alt="Thumbnail"
          class="img-thumbnail"
          style="max-height: 200px"
        />
      </div>

      <!-- Product Info -->
      <div class="row">
        <!-- Product Name -->
        <div class="col-md-12 mb-3">
          <strong>Product Name:</strong>
          <p class="mb-0">{{ p.name }}</p>
        </div>
      </div>

      <!-- Description -->
      <div class="mb-4">
        <strong>Description:</strong>
        <div [innerHTML]="p.description"></div>
      </div>

      <div class="row">
        <!-- Category -->
        <!-- <div class="col-md-6 mb-3">
          <strong>Category:</strong>
          <p class="mb-0">{{ p.category_id?.name }}</p>
        </div> -->

        <!-- Sub Category -->
        <!-- <div class="col-md-6 mb-3">
          <strong>Sub Category:</strong>
          <p class="mb-0">{{ p.sub_category_id?.name }}</p>
        </div> -->
      </div>

      <div class="row">
        <!-- Unit Price -->
        <div class="col-md-4 mb-3">
          <strong>Unit Price:</strong>
          <p class="mb-0">â‚¹{{ p.unit_price }}</p>
        </div>

        <!-- Discount -->
        <div class="col-md-4 mb-3">
          <strong>Discount:</strong>
          <p class="mb-0">{{ p.discount }}</p>
        </div>

        <!-- Discount Type -->
        <div class="col-md-4 mb-3">
          <strong>Discount Type:</strong>
          <p class="mb-0">{{ p.discount_type }}</p>
        </div>
      </div>

      <div class="row">
        <!-- Tax -->
        <div class="col-md-4 mb-3">
          <strong>Tax (%):</strong>
          <p class="mb-0">{{ p.tax }}</p>
        </div>

        <!-- Stock -->
        <div class="col-md-4 mb-3">
          <strong>Stock:</strong>
          <p class="mb-0">{{ p.current_stock }}</p>
        </div>

        <!-- Min Qty -->
        <div class="col-md-4 mb-3">
          <strong>Minimum Qty:</strong>
          <p class="mb-0">{{ p.min_qty }}</p>
        </div>
      </div>

      <!-- Gallery (images[]) -->
      <div class="mt-4" *ngIf="p.images?.length">
        <strong>Images</strong>
        <div class="d-flex flex-wrap gap-2 mt-2">
          <div
            *ngFor="let img of p.images"
            class="border rounded p-1"
            style="max-width: 120px"
          >
            <img
              [src]="img"
              alt="Gallery Image"
              class="img-fluid rounded"
              style="max-height: 100px; object-fit: cover"
            />
          </div>
        </div>
      </div>
    </div>
  </ng-container>

  <div class="card-body text-center" *ngIf="!product">
    <p>Loading product details...</p>
  </div>
</div>
